### fgo & tomocolle
## 概要
	
	- battle
		- コマンドオーダーバトル ⇒ リアルタイムコマンドオーダーバトル
			- コマンドに必要時間追加
			- 必要時間経過で発動
			- 発動させたサーヴァント毎に次のコマンドが表示
				- 所持コマンドの中から4個くらいランダム
				- ？ターゲットも選択可
			- はよ選択しないと他ユニットのオーダーが渋滞
			- ポンポコテンポよくオーダーしてServantが動き続ける。

		- コマンドにバリエーション
			- 上記の必要時間
			- 三竦み ⇒ コマンドに属性ダメージとユニットに属性耐性
				- ？エレメント？（炎、水...）とタイプ？（斬撃、法撃...）みたいな二種類以上の組み合わせ？
			- ？ポジション（？前衛、中衛、後衛）
				- コマンドにポジション変更情報
				- 表示されるコマンドは現在ポジションに対応
				- ポジションを指定した攻撃/バフ/デバフ
			- ？スキルはコマンドのバリエーションに統合？
			- ？コンボ廃止？

		- ？？音ゲー？
			- ？コンボ的な何らかの条件で謎モードに突入？

	- 編成/強化 tomocolle/育成シミュ
		- Farm（tomocolle部分）
			- サーヴァント同士が勝手に繁殖して所持サーヴァントに追加
			- （戦闘毎に繁殖用ステータス等の増減。1戦闘を1日だか1年だかのTurn的に解釈）
			- ？戦闘毎に戦闘用ステータスが強化されるのもこっち？
			- ？食料（戦闘毎に消費）
			- ？ステータス上昇量にバフをかけたりするアイテムの設置
			- ？tomocolle的なアイテム
			- ？部屋が複数（リソースを消費して追加？　住むペアを固定して繁殖させたり）

		- Roster（戦闘参加チーム）
			- 戦うだけ
			- 編成数無限
				- バトル開始時
				1.	Rosterからランダムなサーヴァントがランダムなコマンドを持って選択肢に4つくらい表示（サーヴァント選択と最初のコマンド選択がセット）
					人数分（4人くらい？）繰り返して戦闘開始
					死んだら残りのRosterからまたランダムで選択肢を生成
				2.	全員が出撃
					1.	同じ種族をまとめてオーダー◎
						- コマンド周りがわかりやすそうだしたぶん可愛い。
						- 全員が同じコマンドを実行
					2.	事前に部隊を編成して部隊毎にオーダー

		- その他育成シミュ的仕様
			- 寿命、ピークを過ぎてのステータス低下（戦闘毎にFarmもRosterも加齢）
			- 戦闘で死んでも生き返らない
			- 家系図が見れる
			- 墓を立てれる
				- リソースを消費（お金かアイテムか）
				- 見れる。
					- 墓の種類（消費リソースや死に方で変わる？）
					- 名前（出産時とかに名前をつける処理も必要）
					- ？なんかしらのstringとか保存できる？
			- ？戦闘毎に各サーヴァントが食べ物を消費する
				- 食べ物がないと飢えて死ぬ
			- リソースがもったいない個体はプレイヤーの手で殺せる
			- ？全員死んだらゲームオーバー（普通ならない）。
	
	- ？item（開発リソース的に無しかも）
		- ファームに設置する恒久アイテム（家具とか？）/消費アイテム（食べ物とか？）
			- 出産確率Up
			- 親密度上昇量Up
			- 戦闘ステータス上昇量Up
		- サーヴァントの装備アイテム（武器/防具）
		- サーヴァント強化消費アイテム
		- ？技マシン

## ゲームデザインの要約
	- ソシャゲ的な積み上げ要素を育成要素で代替できたらオフラインでも多少遊べそう。
		家系図や墓はバトルから切り離さないと効率求めるだけの作業ゲーになりそう。

	- キャラの演出とかを推してる（？）バトル部分は、オフラインの非キャラゲー用にアクション性や戦略性に寄せたいけど全然物足りないから要改良。
		戦略要素程度の個性はステータスで表現したいけど、キャラゲー水準の個性を表現する開発リソースはなさそう。

	- 同じことの繰り返しになるからなるべくバリエーションが欲しいけど、個別の処理を大量に追加する開発リソースもないから、
		バリエーションを表現できる汎用システムやプロパティと、データテーブルで何とかする。

## 必要そうなデータテーブル案　たぶんcsv
	- サーヴァント種族データ（？ポケモンみたいに同じ種族を複数所持できる？）
		- 1枚で全種族分
		- 縦：サーヴァント種族名
		- 横：各ステータス（基礎ＨＰとか基礎攻撃力とか寿命とか）
			- コマンドを種族毎に固定するならそれもここ
				1. 完全固定
				2. 種族固定のコマンド20個くらいの中から、出産時に10個くらいがランダムで選ばれてインスタンス化

	- サーヴァント繁殖データ（サーヴァント種族毎に1枚ずつ）
		- 縦：対象サーヴァント（相互？）
		- 横：生まれるサーヴァント
		- 値：確率

	- コマンドデータ
		- 縦：コマンド
		- 横：属性攻撃力,？対応ポジション？, 範囲？, ActionType？（攻撃/buff/debuff）
		- 値：値

	- Stage lotteryデータ
		- 縦：StageLevel
			- 100くらいまで作って、それ以降は強化してループとか
		- 横：Stage
		- 値：確率
		- 低確率でボーナスステージとかその他特別なステージ。

	- Stageデータ
		- 縦：Stage
		- 横：出現エネミー
		- 値：数？確率？エネミーレベル？

	- エネミーデータ
		- サーヴァント種族データの敵版。

	- ?item
		-

## その他の仕様案
	- Stage
		1. Level1から始まって全滅するまで同じRosterで進み続ける。全滅したら最初から。
			- 出撃した時点で死が確定してるのはちょっとおもしろそう。
			- 繁殖させたいなら出撃前に子供作らせなきゃって手順とか。
		2. 毎回Rosterを変えて好きなLevelを選択できる。
			- Levelに応じたアイテムテーブルで、欲しいアイテムを狙った周回プレイとかで遊べる。
			- 択になるかと思ったけどやっぱ1のが面白そう。

	- Battle以外のディスプレイ
		- ソシャゲ的なメニューUI画面だと要素がスカスカで盛り下がりそう。
			1. RPG的にFarmやRotaryを移動したりとか
			2. その他ヘンテコな案

## 必要そうな仕組み
	- セーブ
		- 所持サーヴァントの情報（家系図もサーヴァント毎に所持）だけでもギリギリ成立しそう。
		- けど家系図は別で保持したほうがおもしろそう。
		- 墓実装するならそれも。
		- Stage案①なら現在StageとRosterも。
		- やっぱFarm, Roster, Stage, 家系図, 墓, item って感じかも。
		- せっかくだしこっちも.csvにシリアライズする？

## 実装要素 雑分類
	（4人で40日）
	1.Battle（7日）
		- ロジック
			- 敵の行動（1日）
			- プレイヤーの操作（コマンドUI周り）（3日）
		- 表示（3日）
	2.Farm（7日）
		- ロジック
		- 表示
	3.DataTable/シリアライズ（要件さえ決まれば3時間）
		- Excel
			- 関数とかで更に環境整えるなら+1,2時間？
		- デシリアライズ → 変換
	4.その他（7日）
		- save/load
		- Title, Load画面？, Menu的なMain的な画面, 編成画面とか。

## 追加したい要素
	newGameのたびに展開が変わるような要素
		1. StageLotteryでBunusStage → 上位Servant取得
			- 恒久性がちょっと低め
			- やっぱ恒久で強烈なItem実装してそういうのをレアドロップさせたほうが良い味変になりそう。

## 要件定義
# バトルロジック（とサーヴァント）構造案（ここが一番スパゲティリスク高そう）
	[MyServant(Prefab)]
		- component[CommondAction] //CommondのActionTypeに応じた動作処理
		- component[BattleAction] //Battle中の諸々の動作処理だけどもっと細分化しそう。
		- component[MyServantData]　//あとからAddComponent？

	Class AllMyServantData()
		public static AllMyServantData Instance;
		public List<MyServantData> AMSD { get; set; } = new List<Servant>(); // 非Battle時も使いそうだから多分<MyServant(Prefab)>じゃない。

	Class Roster() //AllMyServantDataに統合するかも。
		public static Roster Instance;
		public List<MyServantData> RosterList { get; set; } = new List<Servant>(); // 非Battle時も使いそうだから多分<MyServant(Prefab)>じゃない。
		public bool HasReserver => RosterList?.Count > 0;

		GameObject GenerateSummonServantCommond() //AddComponent<SummonServantCommond>

	Class SumonServantCommond()
		public Servant S { get; set; }
		public Commond C { get; set; }

	Class MyServantData() 
		public 各基礎ステータスとか　//DataTableから入れる
		〃 〃
		
		public 名前かIDか、管理用の一意の値？ Listのindexで十分かも。
		public bool IsRoster { get; set; } //AllMyServantDataで一覧表示するなら多分いる。しないならAllMyServantDataとセットで要らない。
		public 各ステータス　//基礎ステータス（不変）を使った諸々（加齢や強化）の処理で増減。
		public List<Commond> C { get; set; }

	Class Commond()　//コマンドを強化するような要素を追加しないなら、初期値から変えずに参照先でガチャガチャする。
		public 各数値やActionType（Atack/Buff/Debuff..）　//DataTableから
		public 〃